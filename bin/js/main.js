"use strict";var é=function(e){return document.querySelector(e)},ç=function(e){return document.createElement(e)},Parser=function(){function e(e){var t={ajax:function(e,t){var n=new Promise(function(n,r){var i=new XMLHttpRequest,a=t;i.open(e,a),i.send(),i.onload=function(){this.status>=200&&this.status<300?n(this.response):r(this.statusText)},i.onerror=function(){r(this.statusText)}});return n}};return{get:function(){return t.ajax("GET",e)}}}return{fetchContent:function(){function t(t,n){var r=n?t:"bin/js/json/"+t+".json",i={success:function(e){e=n?e:JSON.parse(e),n?Render.getPart(e,n):Render.buildList(e,t)},error:function(e){throw new Error(e)}};e(r).get().then(i.success).catch(i.error)}var n=new Map([["header","bin/partials/header.html"],[".contact","bin/partials/contact.html"],["aside","bin/partials/aside.html"]]),r=["experience"],i=!0,a=!1,o=void 0;try{for(var c,l=n[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var s=c.value;t(s[1],s[0])}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}var u=!0,d=!1,f=void 0;try{for(var h,v=r[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var m=h.value;t(m)}}catch(e){d=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(d)throw f}}}}}(),Render={settings:{createEl:"div",parentEl:"main"},buildList:function(e,t){function n(e,t,n){return e=ç(e),e.appendChild(document.createTextNode(t)),n&&e.setAttribute("href","//"+t),e}e=e.items;var r=é("."+t),i=ç("ul"),a=!0,o=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){for(var u=l.value,d=ç("li"),f=[n("h2",u.title),n("h3",u.position),n("time",u.dateFrom),n("time",u.dateTo),u.url&&n("a",u.url,1)],h=document.createDocumentFragment(),v=0;v<f.length;v++)f[v]&&h.appendChild(f[v]);d.appendChild(h),i.appendChild(d)}}catch(e){o=!0,c=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw c}}r.appendChild(i)},getPart:function(e,t){if(~t.indexOf(".")){t=t.substr(1);var n=ç(this.settings.createEl);n.classList.add(t),n.innerHTML=e,n.onclick=Interact.toggleClicked;var r=é(this.settings.parentEl);r.appendChild(n)}else{var i=é(t);n=ç(t),n.innerHTML=e,n.onclick=Interact.toggleClicked,document.body.replaceChild(n,i),~t.indexOf("aside")&&Age.calc()}},init:function(){Parser.fetchContent()}},Interact={toggleClicked:function(){var e=é("header");"clicked"==e.className?e.className="reverse":e.className="clicked"},resetClicked:function(){var e=é(".clicked");if(void 0===e.length)e.removeAttribute("class");else for(var t=0;t<e.length;t++){var n=e[t];n.removeAttribute("class")}}},Age={calc:function(){var e=é("time"),t=e.getAttribute("datetime"),n=new Date,r=[n.getFullYear(),n.getMonth()+1,n.getDate()],i=[t.slice(0,4),t.slice(5,7),t.slice(8,10)];r=r.join(""),i=i.join("");var a=(r-i).toString().slice(0,2);e.innerHTML=a+","}};window.addEventListener("DOMContentLoaded",function(){Render.init()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiw6kiLCJzZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIsOnIiwiY3JlYXRlRWxlbWVudCIsIlBhcnNlciIsIiRodHRwIiwidXJsIiwiY29yZSIsImFqYXgiLCJtZXRob2QiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjbGllbnQiLCJYTUxIdHRwUmVxdWVzdCIsInVyaSIsIm9wZW4iLCJzZW5kIiwic3RhdHVzIiwidGhpcyIsIm9ubG9hZCIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJnZXQiLCJmZXRjaENvbnRlbnQiLCJmZXRjaEZpbGUiLCJmIiwiZSIsImZpbGUiLCJjYWxsYmFjayIsInN1Y2Nlc3MiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiUmVuZGVyIiwiZ2V0UGFydCIsImJ1aWxkTGlzdCIsImVycm9yIiwiRXJyb3IiLCJ0aGVuIiwiY2F0Y2giLCJwYXJ0aWFscyIsIk1hcCIsImZpbGVzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJwYXJ0IiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJzZXR0aW5ncyIsImNyZWF0ZUVsIiwicGFyZW50RWwiLCJidWlsZCIsImVsZW1lbnQiLCJjb250ZW50IiwiYXR0ciIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJzZXRBdHRyaWJ1dGUiLCJpdGVtcyIsInBhcmVudCIsInVsIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwibiIsInRlbXAiLCJwb3NpdGlvbiIsImRhdGVGcm9tIiwiZGF0ZVRvIiwiaSIsImxlbmd0aCIsImRvY0ZyYWciLCJsaSIsImluZGV4T2YiLCJpbm5lckhUTUwiLCJvbmNsaWNrIiwiSW50ZXJhY3QiLCJ0b2dnbGVDbGlja2VkIiwiZWxlbSIsIkFnZSIsImNhbGMiLCJpbml0IiwiZWwiLCJjbGFzc05hbWUiLCJyZXNldENsaWNrZWQiLCJzdWJzdHIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0b2RheSIsIkRhdGUiLCJub3ciLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImJpcnRoIiwic2xpY2UiLCJ0aW1lIiwiam9pbiIsImFnZSIsInRvU3RyaW5nIiwiYm9keSJdLCJtYXBwaW5ncyI6IllBQUEsSUFBSUEsR0FBSSxTQUFVQyxHQUNkLE1BQU9DLFVBQVNDLGNBQWNGLElBRGxDRyxFQUFBLFNBQUFILEdBS0ksTUFBT0MsVUFBU0csY0FBY0osSUFEbENLLE9BQUEsV0FJSUEsUUFBVUMsR0FBQUMsR0FHTixHQUFJQyxJQURSQyxLQUFBLFNBQW1CQyxFQUFBSCxHQUNYQyxHQUFPRyxHQUFBLEdBQUFDLFNBQUEsU0FBQUMsRUFBQUMsR0FDRCxHQUFBQyxHQUFTTCxHQUFBQSxnQkFDUEMsRUFBVUosQ0FDVlEsR0FBSUEsS0FBQUEsRUFBYUMsR0FDakJELEVBQUlFLE9BQ0pGLEVBQU9HLE9BQUtSLFdBQ0xTLEtBQVBDLFFBQUEsS0FBQUMsS0FBQUQsT0FBQSxJQUNPRSxFQUFTRCxLQUFBRSxVQUVSVixFQUFBQSxLQUFRVyxhQUdYVCxFQUFBVSxRQUFBLFdBTExYLEVBQUFPLEtBQUFHLGNBU0MsT0FGRGIsSUFLUCxRQW5CTGUsSUFBQSxXQXFCTyxNQUFBbEIsR0FBQUMsS0FBQSxNQUFBRixLQUtWLE9BRURvQixhQUFPLFdBRXNCLFFBQUFDLEdBQUFDLEVBQUFDLEdBQUEsR0FBQUMsR0FBQUQsRUFBQUQs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QVIsRUFBQUksR0FBQUssV0FBQUosTUFBQSxFQUFBLEVBQ0E3QixHQUFBQSxVQUFLUyxFQUFZNUQsS0FLakJqQyxRQUFBQSxpQkFBU3NILG1CQUFULFdBQ0FsRixPQUFBZ0UiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciDDqSA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn07XG5cbnZhciDDpyA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHNlbGVjdG9yKTtcbn07XG5cbnZhciBQYXJzZXIgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICBmdW5jdGlvbiAkaHR0cCh1cmwpe1xuICAgICAgICB2YXIgY29yZSA9IHtcbiAgICAgICAgICAgIGFqYXg6IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWVudCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJpID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQub3BlbihtZXRob2QsIHVyaSk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5zZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnZ2V0JzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuYWpheCgnR0VUJywgdXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuXG4gICAgICAgIGZldGNoQ29udGVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgcGFydGlhbHMgPSBuZXcgTWFwKFtcbiAgICAgICAgICAgICAgICBbJ2hlYWRlcicsICdiaW4vcGFydGlhbHMvaGVhZGVyLmh0bWwnXSxcbiAgICAgICAgICAgICAgICBbJy5jb250YWN0JywgJ2Jpbi9wYXJ0aWFscy9jb250YWN0Lmh0bWwnXSxcbiAgICAgICAgICAgICAgICBbJ2FzaWRlJywgJ2Jpbi9wYXJ0aWFscy9hc2lkZS5odG1sJ11cbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgbGV0IGZpbGVzID0gW1xuICAgICAgICAgICAgICAgICdleHBlcmllbmNlJ1xuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0aWFscykge1xuICAgICAgICAgICAgICAgIGZldGNoRmlsZShwYXJ0WzFdLCBwYXJ0WzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgICAgICAgICAgIGZldGNoRmlsZShmaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGZldGNoRmlsZShmLCBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBlID8gZiA6ICdiaW4vanMvanNvbi8nK2YrJy5qc29uJztcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBlID8gZGF0YSA6IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlbmRlci5nZXRQYXJ0KGRhdGEsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIFJlbmRlci5idWlsZExpc3QoZGF0YSwgZik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRodHRwKGZpbGUpLmdldCgpXG4gICAgICAgICAgICAgICAgLnRoZW4oY2FsbGJhY2suc3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goY2FsbGJhY2suZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG59KSgpO1xuXG52YXIgUmVuZGVyID0ge1xuXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgICAgY3JlYXRlRWw6ICdkaXYnLFxuICAgICAgICBwYXJlbnRFbDogJ21haW4nXG4gICAgfSxcblxuICAgIGJ1aWxkTGlzdDogZnVuY3Rpb24oZGF0YSwgZikge1xuICAgICAgICBkYXRhID0gZGF0YS5pdGVtcztcbiAgICAgICAgdmFyIHBhcmVudCA9IMOpKCcuJysgZik7XG4gICAgICAgIHZhciB1bCA9IMOnKCd1bCcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkKGVsZW1lbnQsIGNvbnRlbnQsIGF0dHIpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSDDpyhlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29udGVudCkpO1xuICAgICAgICAgICAgYXR0ciAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsICcvLycgKyBjb250ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBsaSA9IMOnKCdsaScpO1xuXG4gICAgICAgICAgICB2YXIgdGVtcCA9IFtcbiAgICAgICAgICAgICAgICBidWlsZCgnaDInLCBuLnRpdGxlKSxcbiAgICAgICAgICAgICAgICBidWlsZCgnaDMnLCBuLnBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICBidWlsZCgndGltZScsIG4uZGF0ZUZyb20pLFxuICAgICAgICAgICAgICAgIGJ1aWxkKCd0aW1lJywgbi5kYXRlVG8pLFxuICAgICAgICAgICAgICAgIG4udXJsICYmIGJ1aWxkKCdhJywgbi51cmwsIDEpXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICB2YXIgZG9jRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGVtcFtpXSAmJiBkb2NGcmFnLmFwcGVuZENoaWxkKHRlbXBbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChkb2NGcmFnKTtcbiAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh1bCk7XG4gICAgfSxcblxuICAgIGdldFBhcnQ6IGZ1bmN0aW9uKGRhdGEsIGUpIHtcbiAgICAgICAgaWYgKH5lLmluZGV4T2YoJy4nKSkge1xuXG4gICAgICAgICAgICAvLyBlIHJlZmVycyB0byBhIGNsYXNzbmFtZVxuICAgICAgICAgICAgZSA9IGUuc3Vic3RyKDEpO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGluZyBhIGRpdiB3aXRoIGNsYXNzbmFtZSBlXG4gICAgICAgICAgICB2YXIgdGVtcCA9IMOnKHRoaXMuc2V0dGluZ3MuY3JlYXRlRWwpO1xuICAgICAgICAgICAgdGVtcC5jbGFzc0xpc3QuYWRkKGUpO1xuXG4gICAgICAgICAgICAvLyBhZGQgZGF0YSBhbmQgYXR0YWNoIGNsaWNrIGhhbmRsZXJcbiAgICAgICAgICAgIHRlbXAuaW5uZXJIVE1MID0gZGF0YTtcbiAgICAgICAgICAgIHRlbXAub25jbGljayA9IEludGVyYWN0LnRvZ2dsZUNsaWNrZWQ7XG5cbiAgICAgICAgICAgIC8vIGFwcGVuZCB0byBwYXJlbnQgPG1haW4+XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gw6kodGhpcy5zZXR0aW5ncy5wYXJlbnRFbCk7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGVtcCk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLy8gZSByZWZlcnMgdG8gYW4gZXhpc3RpbmcgZWxlbWVudFxuICAgICAgICAgICAgdmFyIGVsZW0gPSDDqShlKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSAobmV3KSBlbGVtZW50XG4gICAgICAgICAgICB0ZW1wID0gw6coZSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBkYXRhXG4gICAgICAgICAgICB0ZW1wLmlubmVySFRNTCA9IGRhdGE7XG5cbiAgICAgICAgICAgIHRlbXAub25jbGljayA9IEludGVyYWN0LnRvZ2dsZUNsaWNrZWQ7XG5cbiAgICAgICAgICAgIC8vIHJlcGxhY2UgZXhpc3RpbmcgZWxlbWVudCB3aXRoIG5ld1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZXBsYWNlQ2hpbGQodGVtcCwgZWxlbSk7XG4gICAgICAgICAgICBpZih+ZS5pbmRleE9mKCdhc2lkZScpKSBBZ2UuY2FsYygpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBQYXJzZXIuZmV0Y2hDb250ZW50KCk7XG4gICAgfVxuXG59O1xuXG52YXIgSW50ZXJhY3QgPSB7XG5cbiAgICB0b2dnbGVDbGlja2VkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gw6koJ2hlYWRlcicpO1xuICAgICAgICBlbC5jbGFzc05hbWUgPT0gJ2NsaWNrZWQnID8gZWwuY2xhc3NOYW1lID0gJ3JldmVyc2UnIDogZWwuY2xhc3NOYW1lID0gJ2NsaWNrZWQnO1xuICAgIH0sXG5cbiAgICByZXNldENsaWNrZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWwgPSDDqSgnLmNsaWNrZWQnKTtcbiAgICAgICAgaWYgKGVsLmxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBlbFtpXTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufTtcblxudmFyIEFnZSA9IHtcblxuICAgIGNhbGM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWwgPSDDqSgndGltZScpO1xuICAgICAgICB2YXIgdGltZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0ZXRpbWUnKTtcblxuICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgbm93ID0gW3RvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCkrMSwgdG9kYXkuZ2V0RGF0ZSgpXTtcbiAgICAgICAgdmFyIGJpcnRoID0gW3RpbWUuc2xpY2UoMCw0KSwgdGltZS5zbGljZSg1LDcpLCB0aW1lLnNsaWNlKDgsMTApXTtcblxuICAgICAgICBub3cgPSBub3cuam9pbignJyk7XG4gICAgICAgIGJpcnRoID0gYmlydGguam9pbignJyk7XG5cbiAgICAgICAgdmFyIGFnZSA9IChub3cgLSBiaXJ0aCkudG9TdHJpbmcoKS5zbGljZSgwLDIpO1xuICAgICAgICBlbC5pbm5lckhUTUwgPSBhZ2UgKyAnLCc7XG4gICAgfVxuXG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgIFJlbmRlci5pbml0KCk7XG59KTtcbiJdfQ==
