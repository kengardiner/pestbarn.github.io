"use strict";var é=function(t){return document.querySelector(t)},ç=function(t){return document.createElement(t)},Parser=function(){function t(t){var e={ajax:function(t,e){var n=new Promise(function(n,r){var i=new XMLHttpRequest,a=e;i.open(t,a),i.send(),i.onload=function(){this.status>=200&&this.status<300?n(this.response):r(this.statusText)},i.onerror=function(){r(this.statusText)}});return n}};return{get:function(){return e.ajax("GET",t)}}}return{fetchContent:function(){function e(e,n){var r=n?e:"bin/js/json/"+e+".json",i={success:function(t){t=n?t:JSON.parse(t),n?Render.getPart(t,n):Render.buildList(t,e)},error:function(t){throw new Error(t)}};t(r).get().then(i.success).catch(i.error)}var n=new Map([["header","bin/partials/header.html"],[".contact","bin/partials/contact.html"],["aside","bin/partials/aside.html"]]),r=["experience"],i=!0,a=!1,c=void 0;try{for(var o,s=n[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value;e(l[1],l[0])}}catch(t){a=!0,c=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw c}}var u=!0,d=!1,f=void 0;try{for(var h,v=r[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var m=h.value;e(m)}}catch(t){d=!0,f=t}finally{try{!u&&v.return&&v.return()}finally{if(d)throw f}}}}}(),Render={settings:{createEl:"div",parentEl:"main"},buildList:function(t,e){function n(t,e,n){return t=ç(t),t.appendChild(document.createTextNode(e)),n&&t.setAttribute("href","//"+e),t}t=t.items;var r=é("."+e),i=ç("ul"),a=!0,c=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){for(var u=s.value,d=ç("li"),f=[n("h2",u.title),n("h3",u.position),n("time",u.dateFrom),n("span","—"),n("time",u.dateTo),u.url&&n("a",u.url,1)],h=document.createDocumentFragment(),v=0;v<f.length;v++)f[v]&&h.appendChild(f[v]);d.appendChild(h),i.appendChild(d)}}catch(t){c=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(c)throw o}}r.appendChild(i)},getPart:function(t,e){if(~e.indexOf(".")){e=e.substr(1);var n=ç(this.settings.createEl);n.classList.add(e),n.innerHTML=t,n.onclick=Interact.toggleClicked;var r=é(this.settings.parentEl);r.appendChild(n)}else{var i=é(e);n=ç(e),n.innerHTML=t,n.onclick=Interact.toggleClicked,document.body.replaceChild(n,i),~e.indexOf("aside")&&Age.calc()}},init:function(){Parser.fetchContent()}},Interact={toggleClicked:function(){var t=this.nodeName;if("HEADER"==t||"contact"==this.classList){var e=é("header");"clicked"==e.className?e.className="reverse":e.className="clicked"}}},Age={calc:function(){var t=é("time"),e=t.getAttribute("datetime"),n=new Date,r=[n.getFullYear(),n.getMonth()+1,("0"+n.getDate()).slice(-2)],i=[e.slice(0,4),e.slice(5,7),e.slice(8,10)];r=r.join(""),i=i.join("");var a=(r-i).toString().slice(0,2);t.innerHTML=a+","}};window.addEventListener("DOMContentLoaded",function(){Render.init()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiw6kiLCJzZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIsOnIiwiY3JlYXRlRWxlbWVudCIsIlBhcnNlciIsIiRodHRwIiwidXJsIiwiY29yZSIsImFqYXgiLCJtZXRob2QiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjbGllbnQiLCJYTUxIdHRwUmVxdWVzdCIsInVyaSIsIm9wZW4iLCJzZW5kIiwic3RhdHVzIiwidGhpcyIsIm9ubG9hZCIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJnZXQiLCJmZXRjaENvbnRlbnQiLCJmZXRjaEZpbGUiLCJmIiwiZSIsImZpbGUiLCJjYWxsYmFjayIsInN1Y2Nlc3MiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiUmVuZGVyIiwiZ2V0UGFydCIsImJ1aWxkTGlzdCIsImVycm9yIiwiRXJyb3IiLCJ0aGVuIiwiY2F0Y2giLCJwYXJ0aWFscyIsIk1hcCIsImZpbGVzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJwYXJ0IiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJzZXR0aW5ncyIsImNyZWF0ZUVsIiwicGFyZW50RWwiLCJidWlsZCIsImVsZW1lbnQiLCJjb250ZW50IiwiYXR0ciIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJzZXRBdHRyaWJ1dGUiLCJpdGVtcyIsInBhcmVudCIsInVsIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwibiIsInRlbXAiLCJwb3NpdGlvbiIsImRhdGVGcm9tIiwiZGF0ZVRvIiwiZG9jRnJhZyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJpIiwibGVuZ3RoIiwibGkiLCJpbmRleE9mIiwiaW5uZXJIVE1MIiwib25jbGljayIsIkludGVyYWN0IiwidG9nZ2xlQ2xpY2tlZCIsImVsZW0iLCJib2R5IiwicmVwbGFjZUNoaWxkIiwiQWdlIiwiY2FsYyIsImluaXQiLCJjbGlja2VkIiwibm9kZU5hbWUiLCJjbGFzc0xpc3QiLCJlbCIsImNsYXNzTmFtZSIsInRvZGF5IiwiRGF0ZSIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsInNsaWNlIiwidGltZSIsIm5vdyIsImpvaW4iLCJiaXJ0aCIsImFnZSIsInRvU3RyaW5nIl0sIm1hcHBpbmdzIjoiWUFBQSxJQUFJQSxHQUFJLFNBQVVDLEdBQ2QsTUFBT0MsVUFBU0MsY0FBY0YsSUFEbENHLEVBQUEsU0FBQUgsR0FLSSxNQUFPQyxVQUFTRyxjQUFjSixJQURsQ0ssT0FBQSxXQUlJQSxRQUFVQyxHQUFBQyxHQUdOLEdBQUlDLElBRFJDLEtBQUEsU0FBbUJDLEVBQUFILEdBQ1hDLEdBQU9HLEdBQUEsR0FBQUMsU0FBQSxTQUFBQyxFQUFBQyxHQUNELEdBQUFDLEdBQVNMLEdBQUFBLGdCQUNQQyxFQUFVSixDQUNWUSxHQUFJQSxLQUFBQSxFQUFhQyxHQUNqQkQsRUFBSUUsT0FDSkYsRUFBT0csT0FBS1IsV0FDTFMsS0FBUEMsUUFBQSxLQUFBQyxLQUFBRCxPQUFBLElBQ09FLEVBQVNELEtBQUFFLFVBRVJWLEVBQUFBLEtBQVFXLGFBR1hULEVBQUFVLFFBQUEsV0FMTFgsRUFBQU8sS0FBQUcsY0FTQyxPQUZEYixJQUtQLFFBbkJMZSxJQUFBLFdBcUJPLE1BQUFsQixHQUFBQyxLQUFBLE1BQUFGLEtBS1YsT0FFRG9CLGFBQU8sV0FFc0IsUUFBQUMsR0FBQUMsRUFBQUMsR0FBQSxH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QW1EUE4sR0FBR2IsVUFBWXdCLEVBQU0sS0E3Q2pCbEMsUUFBQUEsaUJBQUEsbUJBQUEsV0FtRFJoRCxPQUFPbUUiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciDDqSA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn07XG5cbnZhciDDpyA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHNlbGVjdG9yKTtcbn07XG5cbnZhciBQYXJzZXIgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICBmdW5jdGlvbiAkaHR0cCh1cmwpe1xuICAgICAgICB2YXIgY29yZSA9IHtcbiAgICAgICAgICAgIGFqYXg6IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWVudCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJpID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQub3BlbihtZXRob2QsIHVyaSk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5zZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnZ2V0JzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuYWpheCgnR0VUJywgdXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuXG4gICAgICAgIGZldGNoQ29udGVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgcGFydGlhbHMgPSBuZXcgTWFwKFtcbiAgICAgICAgICAgICAgICBbJ2hlYWRlcicsICdiaW4vcGFydGlhbHMvaGVhZGVyLmh0bWwnXSxcbiAgICAgICAgICAgICAgICBbJy5jb250YWN0JywgJ2Jpbi9wYXJ0aWFscy9jb250YWN0Lmh0bWwnXSxcbiAgICAgICAgICAgICAgICBbJ2FzaWRlJywgJ2Jpbi9wYXJ0aWFscy9hc2lkZS5odG1sJ11cbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgbGV0IGZpbGVzID0gW1xuICAgICAgICAgICAgICAgICdleHBlcmllbmNlJ1xuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0aWFscykge1xuICAgICAgICAgICAgICAgIGZldGNoRmlsZShwYXJ0WzFdLCBwYXJ0WzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgICAgICAgICAgIGZldGNoRmlsZShmaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGZldGNoRmlsZShmLCBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBlID8gZiA6ICdiaW4vanMvanNvbi8nK2YrJy5qc29uJztcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBlID8gZGF0YSA6IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlbmRlci5nZXRQYXJ0KGRhdGEsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIFJlbmRlci5idWlsZExpc3QoZGF0YSwgZik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRodHRwKGZpbGUpLmdldCgpXG4gICAgICAgICAgICAgICAgLnRoZW4oY2FsbGJhY2suc3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goY2FsbGJhY2suZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG59KSgpO1xuXG52YXIgUmVuZGVyID0ge1xuXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgICAgY3JlYXRlRWw6ICdkaXYnLFxuICAgICAgICBwYXJlbnRFbDogJ21haW4nXG4gICAgfSxcblxuICAgIGJ1aWxkTGlzdDogZnVuY3Rpb24oZGF0YSwgZikge1xuICAgICAgICBkYXRhID0gZGF0YS5pdGVtcztcbiAgICAgICAgdmFyIHBhcmVudCA9IMOpKCcuJysgZik7XG4gICAgICAgIHZhciB1bCA9IMOnKCd1bCcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkKGVsZW1lbnQsIGNvbnRlbnQsIGF0dHIpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSDDpyhlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29udGVudCkpO1xuICAgICAgICAgICAgYXR0ciAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsICcvLycgKyBjb250ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBsaSA9IMOnKCdsaScpO1xuXG4gICAgICAgICAgICB2YXIgdGVtcCA9IFtcbiAgICAgICAgICAgICAgICBidWlsZCgnaDInLCBuLnRpdGxlKSxcbiAgICAgICAgICAgICAgICBidWlsZCgnaDMnLCBuLnBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICBidWlsZCgndGltZScsIG4uZGF0ZUZyb20pLFxuICAgICAgICAgICAgICAgIGJ1aWxkKCdzcGFuJywgJ+KAlCcpLFxuICAgICAgICAgICAgICAgIGJ1aWxkKCd0aW1lJywgbi5kYXRlVG8pLFxuICAgICAgICAgICAgICAgIG4udXJsICYmIGJ1aWxkKCdhJywgbi51cmwsIDEpXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICB2YXIgZG9jRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGVtcFtpXSAmJiBkb2NGcmFnLmFwcGVuZENoaWxkKHRlbXBbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChkb2NGcmFnKTtcbiAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh1bCk7XG4gICAgfSxcblxuICAgIGdldFBhcnQ6IGZ1bmN0aW9uKGRhdGEsIGUpIHtcbiAgICAgICAgaWYgKH5lLmluZGV4T2YoJy4nKSkge1xuXG4gICAgICAgICAgICAvLyBlIHJlZmVycyB0byBhIGNsYXNzbmFtZVxuICAgICAgICAgICAgZSA9IGUuc3Vic3RyKDEpO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGluZyBhIGRpdiB3aXRoIGNsYXNzbmFtZSBlXG4gICAgICAgICAgICB2YXIgdGVtcCA9IMOnKHRoaXMuc2V0dGluZ3MuY3JlYXRlRWwpO1xuICAgICAgICAgICAgdGVtcC5jbGFzc0xpc3QuYWRkKGUpO1xuXG4gICAgICAgICAgICAvLyBhZGQgZGF0YSBhbmQgYXR0YWNoIGNsaWNrIGhhbmRsZXJcbiAgICAgICAgICAgIHRlbXAuaW5uZXJIVE1MID0gZGF0YTtcbiAgICAgICAgICAgIHRlbXAub25jbGljayA9IEludGVyYWN0LnRvZ2dsZUNsaWNrZWQ7XG5cbiAgICAgICAgICAgIC8vIGFwcGVuZCB0byBwYXJlbnQgPG1haW4+XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gw6kodGhpcy5zZXR0aW5ncy5wYXJlbnRFbCk7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGVtcCk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLy8gZSByZWZlcnMgdG8gYW4gZXhpc3RpbmcgZWxlbWVudFxuICAgICAgICAgICAgdmFyIGVsZW0gPSDDqShlKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSAobmV3KSBlbGVtZW50XG4gICAgICAgICAgICB0ZW1wID0gw6coZSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBkYXRhXG4gICAgICAgICAgICB0ZW1wLmlubmVySFRNTCA9IGRhdGE7XG5cbiAgICAgICAgICAgIHRlbXAub25jbGljayA9IEludGVyYWN0LnRvZ2dsZUNsaWNrZWQ7XG5cbiAgICAgICAgICAgIC8vIHJlcGxhY2UgZXhpc3RpbmcgZWxlbWVudCB3aXRoIG5ld1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZXBsYWNlQ2hpbGQodGVtcCwgZWxlbSk7XG4gICAgICAgICAgICBpZih+ZS5pbmRleE9mKCdhc2lkZScpKSBBZ2UuY2FsYygpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBQYXJzZXIuZmV0Y2hDb250ZW50KCk7XG4gICAgfVxuXG59O1xuXG52YXIgSW50ZXJhY3QgPSB7XG5cbiAgICB0b2dnbGVDbGlja2VkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNsaWNrZWQgPSB0aGlzLm5vZGVOYW1lO1xuICAgICAgICBpZihjbGlja2VkID09ICdIRUFERVInfHx0aGlzLmNsYXNzTGlzdCA9PSAnY29udGFjdCcpe1xuICAgICAgICAgICAgdmFyIGVsID0gw6koJ2hlYWRlcicpO1xuICAgICAgICAgICAgZWwuY2xhc3NOYW1lID09ICdjbGlja2VkJyA/IGVsLmNsYXNzTmFtZSA9ICdyZXZlcnNlJyA6IGVsLmNsYXNzTmFtZSA9ICdjbGlja2VkJztcbiAgICAgICAgfVxuICAgIH1cblxufTtcblxudmFyIEFnZSA9IHtcblxuICAgIGNhbGM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWwgPSDDqSgndGltZScpO1xuICAgICAgICB2YXIgdGltZSA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0ZXRpbWUnKTtcblxuICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgbm93ID0gW3RvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCkrMSwgKCcwJyArIHRvZGF5LmdldERhdGUoKSkuc2xpY2UoLTIpXTtcbiAgICAgICAgdmFyIGJpcnRoID0gW3RpbWUuc2xpY2UoMCw0KSwgdGltZS5zbGljZSg1LDcpLCB0aW1lLnNsaWNlKDgsMTApXTtcblxuICAgICAgICBub3cgPSBub3cuam9pbignJyk7XG4gICAgICAgIGJpcnRoID0gYmlydGguam9pbignJyk7XG5cbiAgICAgICAgdmFyIGFnZSA9IChub3cgLSBiaXJ0aCkudG9TdHJpbmcoKS5zbGljZSgwLDIpO1xuICAgICAgICBlbC5pbm5lckhUTUwgPSBhZ2UgKyAnLCc7XG4gICAgfVxuXG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgIFJlbmRlci5pbml0KCk7XG59KTtcbiJdfQ==
