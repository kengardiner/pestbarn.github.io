"use strict";var é=function(t){return document.querySelector(t)},ç=function(t){return document.createElement(t)},Parser=function(){function t(t){var e={ajax:function(t,e){var n=new Promise(function(n,r){var i=new XMLHttpRequest,a=e;i.open(t,a),i.send(),i.onload=function(){this.status>=200&&this.status<300?n(this.response):r(this.statusText)},i.onerror=function(){r(this.statusText)}});return n}};return{get:function(){return e.ajax("GET",t)}}}return{fetchContent:function(){function e(e,n){var r=n?e:"bin/js/json/"+e+".json",i={success:function(t){t=n?t:JSON.parse(t),n?Render.getPart(t,n):Render.buildList(t,e)},error:function(t){throw new Error(t)}};t(r).get().then(i.success).catch(i.error)}var n=new Map([["header","bin/partials/header.html"],[".contact","bin/partials/contact.html"],["aside","bin/partials/aside.html"]]),r=["experience"],i=!0,a=!1,o=void 0;try{for(var c,s=n[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value;e(l[1],l[0])}}catch(t){a=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(a)throw o}}var u=!0,d=!1,f=void 0;try{for(var h,v=r[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var m=h.value;e(m)}}catch(t){d=!0,f=t}finally{try{!u&&v.return&&v.return()}finally{if(d)throw f}}}}}(),Render={settings:{createEl:"div",parentEl:"main"},buildList:function(t,e){function n(t,e,n){return t=ç(t),t.appendChild(document.createTextNode(e)),n&&t.setAttribute("href","//"+e),t}t=t.items;var r=é("."+e),i=ç("ul"),a=!0,o=!1,c=void 0;try{for(var s,l=t[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){for(var u=s.value,d=ç("li"),f=[n("h2",u.title),n("h3",u.position),n("time",u.dateFrom),n("span","—"),n("time",u.dateTo),u.url&&n("a",u.url,1)],h=document.createDocumentFragment(),v=0;v<f.length;v++)f[v]&&h.appendChild(f[v]);d.appendChild(h),i.appendChild(d)}}catch(t){o=!0,c=t}finally{try{!a&&l.return&&l.return()}finally{if(o)throw c}}r.appendChild(i)},getPart:function(t,e){if(~e.indexOf(".")){e=e.substr(1);var n=ç(this.settings.createEl);n.classList.add(e),n.innerHTML=t,n.onclick=Interact.toggleClicked;var r=é(this.settings.parentEl);r.appendChild(n)}else{var i=é(e);n=ç(e),n.innerHTML=t,n.onclick=Interact.toggleClicked,document.body.replaceChild(n,i),~e.indexOf("aside")&&Age.calc()}},init:function(){Parser.fetchContent()}},Interact={toggleClicked:function(){var t=this.nodeName;if("HEADER"==t||"contact"==this.classList){var e=é("header");"clicked"==e.className?e.className="reverse":e.className="clicked"}}},Age={calc:function(){var t=é("time"),e=t.getAttribute("datetime"),n=new Date,r=[n.getFullYear(),n.getMonth()+1,n.getDate()],i=[e.slice(0,4),e.slice(5,7),e.slice(8,10)];r=r.join(""),i=i.join("");var a=(r-i).toString().slice(0,2);t.innerHTML=a+","}};window.addEventListener("DOMContentLoaded",function(){Render.init()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiw6kiLCJzZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIsOnIiwiY3JlYXRlRWxlbWVudCIsIlBhcnNlciIsIiRodHRwIiwidXJsIiwiY29yZSIsImFqYXgiLCJtZXRob2QiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjbGllbnQiLCJYTUxIdHRwUmVxdWVzdCIsInVyaSIsIm9wZW4iLCJzZW5kIiwic3RhdHVzIiwidGhpcyIsIm9ubG9hZCIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJnZXQiLCJmZXRjaENvbnRlbnQiLCJmZXRjaEZpbGUiLCJmIiwiZSIsImZpbGUiLCJjYWxsYmFjayIsInN1Y2Nlc3MiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiUmVuZGVyIiwiZ2V0UGFydCIsImJ1aWxkTGlzdCIsImVycm9yIiwiRXJyb3IiLCJ0aGVuIiwiY2F0Y2giLCJwYXJ0aWFscyIsIk1hcCIsImZpbGVzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJwYXJ0IiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJzZXR0aW5ncyIsImNyZWF0ZUVsIiwicGFyZW50RWwiLCJidWlsZCIsImVsZW1lbnQiLCJjb250ZW50IiwiYXR0ciIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJzZXRBdHRyaWJ1dGUiLCJpdGVtcyIsInBhcmVudCIsInVsIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwibiIsInRlbXAiLCJwb3NpdGlvbiIsImRhdGVGcm9tIiwiZGF0ZVRvIiwiZG9jRnJhZyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJpIiwibGVuZ3RoIiwibGkiLCJpbmRleE9mIiwiaW5uZXJIVE1MIiwib25jbGljayIsIkludGVyYWN0IiwidG9nZ2xlQ2xpY2tlZCIsImVsZW0iLCJib2R5IiwicmVwbGFjZUNoaWxkIiwiQWdlIiwiY2FsYyIsImluaXQiLCJjbGlja2VkIiwibm9kZU5hbWUiLCJjbGFzc0xpc3QiLCJlbCIsImNsYXNzTmFtZSIsInRvZGF5IiwiRGF0ZSIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsInNsaWNlIiwidGltZSIsIm5vdyIsImpvaW4iLCJiaXJ0aCIsImFnZSIsInRvU3RyaW5nIl0sIm1hcHBpbmdzIjoiWUFBQSxJQUFJQSxHQUFJLFNBQVVDLEdBQ2QsTUFBT0MsVUFBU0MsY0FBY0YsSUFEbENHLEVBQUEsU0FBQUgsR0FLSSxNQUFPQyxVQUFTRyxjQUFjSixJQURsQ0ssT0FBQSxXQUlJQSxRQUFVQyxHQUFBQyxHQUdOLEdBQUlDLElBRFJDLEtBQUEsU0FBbUJDLEVBQUFILEdBQ1hDLEdBQU9HLEdBQUEsR0FBQUMsU0FBQSxTQUFBQyxFQUFBQyxHQUNELEdBQUFDLEdBQVNMLEdBQUFBLGdCQUNQQyxFQUFVSixDQUNWUSxHQUFJQSxLQUFBQSxFQUFhQyxHQUNqQkQsRUFBSUUsT0FDSkYsRUFBT0csT0FBS1IsV0FDTFMsS0FBUEMsUUFBQSxLQUFBQyxLQUFBRCxPQUFBLElBQ09FLEVBQVNELEtBQUFFLFVBRVJWLEVBQUFBLEtBQVFXLGFBR1hULEVBQUFVLFFBQUEsV0FMTFgsRUFBQU8sS0FBQUcsY0FTQyxPQUZEYixJQUtQLFFBbkJMZSxJQUFBLFdBcUJPLE1BQUFsQixHQUFBQyxLQUFBLE1BQUFGLEtBS1YsT0FFRG9CLGFBQU8sV0FFc0IsUUFBQUMsR0FBQUMsRUFBQUMsR0FBQSxHQUFBQyxHQUFBRCxFQUFBRCxFQUFBLGVBQUFBLEVBQUEsUUFBQUcsR0FBQUMsUUFBQSxTQUFBQyxHQUFBQSxFQUFBSixFQUFBSSxFQUFBQyxLQUFBQyxNQUFBRixHQUFBSixFQUFBTyxPQUFBQyxRQUFBSixFQUFBSixHQUFBTyxPQUFBRSxVQUFBTCxFQUFBTCxJQUFBVyxNQUFBLFNBQUFOLEdBQUEsS0FBQSxJQUFBTyxPQUFBUCxJQUFBNUIsR0FBQXlCLEdBQUFMLE1BNkJoQmdCLEtBQUtWLEVBQVNDLFNBN0JFVSxNQUFBWCxFQUFBUSxPQUNyQixHQUFJSSxHQUFXLEdBQUlDLE9BRHZCbEIsU0FBYyw2QkFDTmlCLFdBQVcsOEJBS1hFLFFBQ0EsNkJBUGlCQSxHQUFBLGNBRnRCQyxHQUFBLEVBQUFDLEdBQUEsRUFBQUMsRUFBQUMsTUFBQSxLQUVzQixJQUFBLEdBQUFDLEdBQUFDLEVBQUFSLEVBQUFTLE9BQUFDLGNBQUFQLEdBQUFJLEVBQUFDLEVBQUFHLFFBQUFDLE1BQUFULEdBQUEsRUFBQSxDQUFBLEdBQUFVLEdBQUFOLEVBQUFPLEtBU3JCOUIsR0FBQTZCLEVBQUEsR0FBQUEsRUFBbUJiLEtBWHBCLE1BQUFlLEdBQUFYLEdBQUEsRUFBQUMsRUFBQVUsRUFBQSxRQUFBLEtBQUFaLEdBQUFLLEVBQUFRLFFBQUFSLEVBQUFRLFNBQUEsUUFBQSxHQUFBWixFQUFBLEtBQUFDLElBQUEsR0FBQVksSUFBQSxFQUFBQyxHQUFBLEVBQUFDLEVBQUFiLE1BQUEsS0FjQyxJQUFBLEdBQUFjLEdBQUFDLEVBQW1CbkIsRUFBbkJPLE9BQUFDLGNBQUFPLEdBQUFHLEVBQUFDLEVBQUFWLFFBQUFDLE1BQUFLLEdBQUEsRUFBMEIsQ0FBQSxHQUFmOUIsR0FBZWlDLEVBQUFOLEtBRnRCOUIsR0FBQUEsSUFaTCxNQUFBK0IsR0FBQUcsR0FBQSxFQUFBQyxFQUFBSixFQUFBLFFBQUEsS0FBQUUsR0FBQUksRUFBQUwsUUFBQUssRUFBQUwsU0FBQSxRQUFBLEdBQUFFLEVBQUEsS0FBQUMsVUFlS25DLFFBYmlCc0MsVUFBQUMsU0FBQSxNQUFBQyxTQUFBLFFBQUE3QixVQUFBLFNBQUFMLEVBQUFMLEdBQUEsUUFBQXdDLEdBQUFDLEVBQUFDLEVBQUFDLEdBc0RyQixNQXREcUJGLEdBQUFuRSxFQUFBbUUsR0FBQUEsRUFBQUcsWUFBQXhFLFNBQUF5RSxlQUFBSCxJQUFBQyxHQUFBRixFQUFBSyxhQUFBLE9BQUEsS0FBQUosR0FzRGRELEVBdERjcEMsRUFBQUEsRUFBQTBDLEtBQUEsSUFBQUMsR0FBQTlFLEVBQUEsSUFBQThCLEdBQUFpRCxFQUFBM0UsRUFBQSxNQUFBNEUsR0FBQSxFQUFBQyxHQUFBLEVBQUFDLEVBQUEvQixNQUFBLEtBaUJqQixJQUFBLEdBQUFnQyxHQUFBQyxFQUFJbkQsRUFBSnFCLE9BQUFDLGNBQUF5QixHQUFBRyxFQUFBQyxFQUFBNUIsUUFBQUMsTUFBQXVCLEdBQUEsRUFBSS9DLENBZVgsSUFBQSxHQWZPb0QsR0FBSXBELEVBQUFBLE1BQ0FDLEVBQUFBLEVBQUFBLE1BRUlvRCxHQUNJaEQsRUFBQUEsS0FBQUEsRUFBQUEsT0FDSGdDLEVBQUEsS0FGRGUsRUFBQUUsVUFHSGpCLEVBTlUsT0FBQWUsRUFBQUcsVUFPWC9DLEVBQUFBLE9BQU8sS0FDSDZCLEVBQUEsT0FBTWUsRUFBQUksUUFDVEosRUFBQTdFLEtBQUE4RCxFQUFBLElBQUFlLEVBQUE3RSxJQUFBLElBS1JrRixFQUFBeEYsU0FBQXlGLHlCQUNKQyxFQUFBLEVBQUFBLEVBQUFOLEVBQUFPLE9BQUFELElBdUNPTixFQUFLTSxJQUFNRixFQUFRaEIsWUFBWVksRUFBS00sR0FHeENFLEdBQUdwQixZQUFZZ0IsR0FwQ3ZCcEQsRUFBU29DLFlBQUFvQixJQXRDb0IsTUFBQWxDLEdBQUFxQixHQUFBLEVBQUFDLEVBQUF0QixFQUFBLFFBQUEsS0FBQW9CLEdBQUFJLEVBQUF2QixRQUFBdUIsRUFBQXZCLFNBQUEsUUFBQSxHQUFBb0IsRUFBQSxLQUFBQyxJQXlDekJkLEVBQUFBLFlBRE1XLElBeUNWeEMsUUFBUyxTQUFTSixFQUFNSixHQXBDeEJTLElBQUFBLEVBQVd1RCxRQUFBLEtBQUEsQ0FHSGhCLEVBQUFBLEVBQUszRSxPQUFULEVBR0ltRSxJQUFBQSxHQUFVbkUsRUFBRW1FLEtBQUFBLFNBQVpILFNBQ0FHLEdBQUFBLFVBQVFHLElBQVIzQyxHQUdIdUQsRUFBQVUsVUFBQTdELEVBc0NHbUQsRUFBS1csUUFBVUMsU0FBU0MsYUFoREgsSUFBQXJCLEdBQUE5RSxFQUFBc0IsS0FBQTZDLFNBQUFFLFNBb0RyQlMsR0FBT0osWUFBWVksT0F4Q3ZCLENBQ0ksR0FBQWMsR0FBSU4sRUFBSzFGLEVBK0NUa0YsR0FBT2xGLEVBQUUyQixHQWxDTHVELEVBQUFBLFVBQUFuRCxFQXVDSm1ELEVBQUtXLFFBQVVDLFNBQVNDLGNBbEMzQmpHLFNBQUFtRyxLQUFBQyxhQUFBaEIsRUFBQWMsSUEvQndCckUsRUFBQWdFLFFBQUEsVUFBQVEsSUFBQUMsU0FBQUMsS0FBQSxXQUFBbkcsT0FBQXNCLGlCQUFBc0UsVUFBQUMsY0FBQSxXQUFBLEdBQUFPLEdBQUFwRixLQUFBcUYsUUFtRnpCLElBQWMsVUFBWEQsR0FBdUMsV0FBbEJwRixLQUFLc0YsVUFBdUIsQ0FsRHBEOUIsR0FBT0osR0FBQUEsRUFBQUEsU0F4Q0YsWUFBQW1DLEVBQUFDLFVBQUFELEVBQUFDLFVBQUEsVUFBQUQsRUFBQUMsVUFBQSxhQStDRC9FLEtBRUF5RSxLQUFBLFdBQ0EsR0FBQUssR0FBSXZCLEVBQUFBLFFBQ0pBLEVBQUtzQixFQUFBQSxhQUFMLFlBRUFHLEVBQUEsR0FBQUMsTUFDQTFCLEdBQUtVLEVBQUFBLGNBQUxlLEVBQUFFLFdBQUEsRUFBQUYsRUFBQUcsV0FDQTVCLEdBQUtXLEVBQUxrQixNQUFlakIsRUFBQUEsR0FBU0MsRUFBQUEsTUFBeEIsRUFBQSxHQUFBaUIsRUFBQUQsTUFBQSxFQUFBLElBRUFFLEdBQUFBLEVBQUFDLEtBQUEsSUFDQUMsRUFBSXpDLEVBQUFBLEtBQVcsR0FHbEIsSUFqQkQwQyxJQWlCT0gsRUFBQUUsR0FBQUUsV0FBQU4sTUFBQSxFQUFBLEVBbURQTixHQUFHYixVQUFZd0IsRUFBTSxLQTdDakJsQyxRQUFBQSxpQkFBQSxtQkFBQSxXQW1EUmhELE9BQU9tRSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIMOpID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufTtcblxudmFyIMOnID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoc2VsZWN0b3IpO1xufTtcblxudmFyIFBhcnNlciA9IChmdW5jdGlvbigpIHtcblxuICAgIGZ1bmN0aW9uICRodHRwKHVybCl7XG4gICAgICAgIHZhciBjb3JlID0ge1xuICAgICAgICAgICAgYWpheDogZnVuY3Rpb24obWV0aG9kLCB1cmwpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2xpZW50ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmkgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5vcGVuKG1ldGhvZCwgdXJpKTtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNlbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QodGhpcy5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QodGhpcy5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdnZXQnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZS5hamF4KCdHRVQnLCB1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG5cbiAgICAgICAgZmV0Y2hDb250ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCBwYXJ0aWFscyA9IG5ldyBNYXAoW1xuICAgICAgICAgICAgICAgIFsnaGVhZGVyJywgJ2Jpbi9wYXJ0aWFscy9oZWFkZXIuaHRtbCddLFxuICAgICAgICAgICAgICAgIFsnLmNvbnRhY3QnLCAnYmluL3BhcnRpYWxzL2NvbnRhY3QuaHRtbCddLFxuICAgICAgICAgICAgICAgIFsnYXNpZGUnLCAnYmluL3BhcnRpYWxzL2FzaWRlLmh0bWwnXVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBsZXQgZmlsZXMgPSBbXG4gICAgICAgICAgICAgICAgJ2V4cGVyaWVuY2UnXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgZmV0Y2hGaWxlKHBhcnRbMV0sIHBhcnRbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgICAgICAgICAgZmV0Y2hGaWxlKGZpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZmV0Y2hGaWxlKGYsIGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IGUgPyBmIDogJ2Jpbi9qcy9qc29uLycrZisnLmpzb24nO1xuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGUgPyBkYXRhIDogSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVuZGVyLmdldFBhcnQoZGF0YSwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgUmVuZGVyLmJ1aWxkTGlzdChkYXRhLCBmKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJGh0dHAoZmlsZSkuZ2V0KClcbiAgICAgICAgICAgICAgICAudGhlbihjYWxsYmFjay5zdWNjZXNzKVxuICAgICAgICAgICAgICAgIC5jYXRjaChjYWxsYmFjay5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbn0pKCk7XG5cbnZhciBSZW5kZXIgPSB7XG5cbiAgICBzZXR0aW5nczoge1xuICAgICAgICBjcmVhdGVFbDogJ2RpdicsXG4gICAgICAgIHBhcmVudEVsOiAnbWFpbidcbiAgICB9LFxuXG4gICAgYnVpbGRMaXN0OiBmdW5jdGlvbihkYXRhLCBmKSB7XG4gICAgICAgIGRhdGEgPSBkYXRhLml0ZW1zO1xuICAgICAgICB2YXIgcGFyZW50ID0gw6koJy4nKyBmKTtcbiAgICAgICAgdmFyIHVsID0gw6coJ3VsJyk7XG5cbiAgICAgICAgZnVuY3Rpb24gYnVpbGQoZWxlbWVudCwgY29udGVudCwgYXR0cikge1xuICAgICAgICAgICAgZWxlbWVudCA9IMOnKGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb250ZW50KSk7XG4gICAgICAgICAgICBhdHRyICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgJy8vJyArIGNvbnRlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZGF0YSkge1xuICAgICAgICAgICAgdmFyIGxpID0gw6coJ2xpJyk7XG5cbiAgICAgICAgICAgIHZhciB0ZW1wID0gW1xuICAgICAgICAgICAgICAgIGJ1aWxkKCdoMicsIG4udGl0bGUpLFxuICAgICAgICAgICAgICAgIGJ1aWxkKCdoMycsIG4ucG9zaXRpb24pLFxuICAgICAgICAgICAgICAgIGJ1aWxkKCd0aW1lJywgbi5kYXRlRnJvbSksXG4gICAgICAgICAgICAgICAgYnVpbGQoJ3NwYW4nLCAn4oCUJyksXG4gICAgICAgICAgICAgICAgYnVpbGQoJ3RpbWUnLCBuLmRhdGVUbyksXG4gICAgICAgICAgICAgICAgbi51cmwgJiYgYnVpbGQoJ2EnLCBuLnVybCwgMSlcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHZhciBkb2NGcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ZW1wW2ldICYmIGRvY0ZyYWcuYXBwZW5kQ2hpbGQodGVtcFtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKGRvY0ZyYWcpO1xuICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHVsKTtcbiAgICB9LFxuXG4gICAgZ2V0UGFydDogZnVuY3Rpb24oZGF0YSwgZSkge1xuICAgICAgICBpZiAofmUuaW5kZXhPZignLicpKSB7XG5cbiAgICAgICAgICAgIC8vIGUgcmVmZXJzIHRvIGEgY2xhc3NuYW1lXG4gICAgICAgICAgICBlID0gZS5zdWJzdHIoMSk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0aW5nIGEgZGl2IHdpdGggY2xhc3NuYW1lIGVcbiAgICAgICAgICAgIHZhciB0ZW1wID0gw6codGhpcy5zZXR0aW5ncy5jcmVhdGVFbCk7XG4gICAgICAgICAgICB0ZW1wLmNsYXNzTGlzdC5hZGQoZSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBkYXRhIGFuZCBhdHRhY2ggY2xpY2sgaGFuZGxlclxuICAgICAgICAgICAgdGVtcC5pbm5lckhUTUwgPSBkYXRhO1xuICAgICAgICAgICAgdGVtcC5vbmNsaWNrID0gSW50ZXJhY3QudG9nZ2xlQ2xpY2tlZDtcblxuICAgICAgICAgICAgLy8gYXBwZW5kIHRvIHBhcmVudCA8bWFpbj5cbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSDDqSh0aGlzLnNldHRpbmdzLnBhcmVudEVsKTtcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0ZW1wKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBlIHJlZmVycyB0byBhbiBleGlzdGluZyBlbGVtZW50XG4gICAgICAgICAgICB2YXIgZWxlbSA9IMOpKGUpO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIChuZXcpIGVsZW1lbnRcbiAgICAgICAgICAgIHRlbXAgPSDDpyhlKTtcblxuICAgICAgICAgICAgLy8gYWRkIGRhdGFcbiAgICAgICAgICAgIHRlbXAuaW5uZXJIVE1MID0gZGF0YTtcblxuICAgICAgICAgICAgdGVtcC5vbmNsaWNrID0gSW50ZXJhY3QudG9nZ2xlQ2xpY2tlZDtcblxuICAgICAgICAgICAgLy8gcmVwbGFjZSBleGlzdGluZyBlbGVtZW50IHdpdGggbmV3XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZCh0ZW1wLCBlbGVtKTtcbiAgICAgICAgICAgIGlmKH5lLmluZGV4T2YoJ2FzaWRlJykpIEFnZS5jYWxjKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIFBhcnNlci5mZXRjaENvbnRlbnQoKTtcbiAgICB9XG5cbn07XG5cbnZhciBJbnRlcmFjdCA9IHtcblxuICAgIHRvZ2dsZUNsaWNrZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2xpY2tlZCA9IHRoaXMubm9kZU5hbWU7XG4gICAgICAgIGlmKGNsaWNrZWQgPT0gJ0hFQURFUid8fHRoaXMuY2xhc3NMaXN0ID09ICdjb250YWN0Jyl7XG4gICAgICAgICAgICB2YXIgZWwgPSDDqSgnaGVhZGVyJyk7XG4gICAgICAgICAgICBlbC5jbGFzc05hbWUgPT0gJ2NsaWNrZWQnID8gZWwuY2xhc3NOYW1lID0gJ3JldmVyc2UnIDogZWwuY2xhc3NOYW1lID0gJ2NsaWNrZWQnO1xuICAgICAgICB9XG4gICAgfVxuXG59O1xuXG52YXIgQWdlID0ge1xuXG4gICAgY2FsYzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbCA9IMOpKCd0aW1lJyk7XG4gICAgICAgIHZhciB0aW1lID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRldGltZScpO1xuXG4gICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBub3cgPSBbdG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSsxLCB0b2RheS5nZXREYXRlKCldO1xuICAgICAgICB2YXIgYmlydGggPSBbdGltZS5zbGljZSgwLDQpLCB0aW1lLnNsaWNlKDUsNyksIHRpbWUuc2xpY2UoOCwxMCldO1xuXG4gICAgICAgIG5vdyA9IG5vdy5qb2luKCcnKTtcbiAgICAgICAgYmlydGggPSBiaXJ0aC5qb2luKCcnKTtcblxuICAgICAgICB2YXIgYWdlID0gKG5vdyAtIGJpcnRoKS50b1N0cmluZygpLnNsaWNlKDAsMik7XG4gICAgICAgIGVsLmlubmVySFRNTCA9IGFnZSArICcsJztcbiAgICB9XG5cbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgUmVuZGVyLmluaXQoKTtcbn0pO1xuIl19
