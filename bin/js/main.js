"use strict";var é=function(e){return document.querySelector(e)},ç=function(e){return document.createElement(e)},Parser=function(){function e(e){var t={ajax:function(e,t){var n=new Promise(function(n,r){var i=new XMLHttpRequest,a=t;i.open(e,a),i.send(),i.onload=function(){this.status>=200&&this.status<300?n(this.response):r(this.statusText)},i.onerror=function(){r(this.statusText)}});return n}};return{get:function(){return t.ajax("GET",e)}}}return{fetchContent:function(){function t(t,n){var r=n?t:"bin/js/json/"+t+".json",i={success:function(e){e=n?e:JSON.parse(e),n?Render.getPart(e,n):Render.buildList(e,t)},error:function(e){throw new Error(e)}};e(r).get().then(i.success).catch(i.error)}var n=new Map([["header","bin/partials/header.html"],[".contact","bin/partials/contact.html"],["aside","bin/partials/aside.html"]]),r=["experience"],i=!0,a=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;t(l[1],l[0])}}catch(e){a=!0,o=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw o}}var u=!0,d=!1,f=void 0;try{for(var h,v=r[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var g=h.value;t(g)}}catch(e){d=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(d)throw f}}},fetchGigs:function(){var t="//spreadsheets.google.com/feeds/list/1Tf2vRy6me9F3knQSA5FpfvrTLuNetlkd0Mmb2P20Jqo/1/public/values?alt=json",n={success:function(e){var t=JSON.parse(e),n=t.feed.entry;for(var r in n)r>0&&console.log(n[r].gsx$headline.$t,n[r].gsx$text.$t,n[r].gsx$startdate.$t)},error:function(e){throw new Error(e)}};e(t).get().then(n.success).catch(n.error)}}}(),Render={settings:{createEl:"div",parentEl:"main"},buildList:function(e,t){function n(e,t,n){return e=ç(e),e.appendChild(document.createTextNode(t)),n&&e.setAttribute("href","//"+t),e}e=e.items;var r=é("."+t),i=ç("ul"),a=!0,o=!1,s=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){for(var u=c.value,d=ç("li"),f=[n("h2",u.title),n("h3",u.position),n("time",u.dateFrom),n("span","—"),n("time",u.dateTo),u.url&&n("a",u.url,1)],h=document.createDocumentFragment(),v=0;v<f.length;v++)f[v]&&h.appendChild(f[v]);d.appendChild(h),i.appendChild(d)}}catch(e){o=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw s}}r.appendChild(i)},getPart:function(e,t){if(~t.indexOf(".")){t=t.substr(1);var n=ç(this.settings.createEl);n.classList.add(t),n.innerHTML=e,n.onclick=Interact.toggleClicked;var r=é(this.settings.parentEl);r.appendChild(n)}else{var i=é(t);n=ç(t),n.innerHTML=e,n.onclick=Interact.toggleClicked,document.body.replaceChild(n,i),~t.indexOf("aside")&&Age.calc()}},init:function(){Request.isIndex()&&Parser.fetchContent(),Request.isPage("/gigs/")&&Parser.fetchGigs()}},Interact={toggleClicked:function(){var e=this.nodeName;if("HEADER"==e||"contact"==this.classList){var t=é("header");"clicked"==t.className?t.className="reverse":t.className="clicked"}}},Age={calc:function(){var e=é("time"),t=e.getAttribute("datetime"),n=new Date,r=[n.getFullYear(),n.getMonth()+1,("0"+n.getDate()).slice(-2)],i=[t.slice(0,4),t.slice(5,7),t.slice(8,10)];r=r.join(""),i=i.join("");var a=(r-i).toString().slice(0,2);e.innerHTML=a+","}},Request={isIndex:function(){if("/"==document.location.pathname)return!0},isPage:function(e){if(document.location.pathname==e)return!0}};window.addEventListener("DOMContentLoaded",function(){Render.init()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiw6kiLCJzZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIsOnIiwiY3JlYXRlRWxlbWVudCIsIlBhcnNlciIsIiRodHRwIiwidXJsIiwiY29yZSIsImFqYXgiLCJtZXRob2QiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjbGllbnQiLCJYTUxIdHRwUmVxdWVzdCIsInVyaSIsIm9wZW4iLCJzZW5kIiwic3RhdHVzIiwidGhpcyIsIm9ubG9hZCIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJnZXQiLCJmZXRjaENvbnRlbnQiLCJmZXRjaEZpbGUiLCJmIiwiZSIsImZpbGUiLCJjYWxsYmFjayIsInN1Y2Nlc3MiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiUmVuZGVyIiwiZ2V0UGFydCIsImJ1aWxkTGlzdCIsImVycm9yIiwiRXJyb3IiLCJ0aGVuIiwiY2F0Y2giLCJwYXJ0aWFscyIsIk1hcCIsImZpbGVzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJwYXJ0IiwidmFsdWUiLCJlcnIiLCJyZXR1cm4iLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJmZXRjaEdpZ3MiLCJnaWdzIiwiY2VsbHMiLCJ0aXRsZSIsImZlZWQiLCJlbnRyeSIsInQiLCJjb25zb2xlIiwibG9nIiwiZ3N4JGhlYWRsaW5lIiwiJHQiLCJnc3gkdGV4dCIsImdzeCRzdGFydGRhdGUiLCJzZXR0aW5ncyIsInBhcmVudEVsIiwiYnVpbGQiLCJlbGVtZW50IiwiY29udGVudCIsImF0dHIiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwic2V0QXR0cmlidXRlIiwiaXRlbXMiLCJwYXJlbnQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJuIiwibGkiLCJ0ZW1wIiwicG9zaXRpb24iLCJkYXRlRnJvbSIsImRhdGVUbyIsImRvY0ZyYWciLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiaSIsImxlbmd0aCIsInVsIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwib25jbGljayIsIkludGVyYWN0IiwidG9nZ2xlQ2xpY2tlZCIsImVsZW0iLCJib2R5IiwicmVwbGFjZUNoaWxkIiwiaW5kZXhPZiIsIkFnZSIsImNhbGMiLCJpbml0IiwiUmVxdWVzdCIsImlzSW5kZXgiLCJpc1BhZ2UiLCJjbGlja2VkIiwibm9kZU5hbWUiLCJlbCIsImNsYXNzTmFtZSIsInRvZGF5IiwiRGF0ZSIsIm5vdyIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwic2xpY2UiLCJiaXJ0aCIsInRpbWUiLCJqb2luIiwiYWdlIiwidG9TdHJpbmciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IllBQUEsSUFBSUEsR0FBSSxTQUFVQyxHQUNkLE1BQU9DLFVBQVNDLGNBQWNGLElBRGxDRyxFQUFBLFNBQUFILEdBS0ksTUFBT0MsVUFBU0csY0FBY0osSUFEbENLLE9BQUEsV0FJSUEsUUFBVUMsR0FBQUMsR0FHTixHQUFJQyxJQURSQyxLQUFBLFNBQW1CQyxFQUFBSCxHQUNYQyxHQUFPRyxHQUFBLEdBQUFDLFNBQUEsU0FBQUMsRUFBQUMsR0FDRCxHQUFBQyxHQUFTTCxHQUFBQSxnQkFDUEMsRUFBVUosQ0FDVlEsR0FBSUEsS0FBQUEsRUFBYUMsR0FDakJELEVBQUlFLE9BQ0pGLEVBQU9HLE9BQUtSLFdBQ0xT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QXFGLFFBQUEsVUFBQUMsSUFBQUMsU0FBQUMsS0FBQSxXQUFBQyxRQUFBQyxXQUFBbkgsT0FBQXNCLGVBQUE0RixRQUFBRSxPQUFBLFdBQUFwSCxPQUFBNkQsY0FBQTRDLFVBaUN6QnJCLGNBQU9KLFdBeENGLEdBQUFxQyxHQUFBckcsS0FBQXNHLFFBMkZMLElBQWMsVUFBWEQsR0FBdUMsV0FBbEJyRyxLQUFLcUYsVUFBdUIsQ0FoRHhEcEUsR0FBU3NGLEdBQUE3SCxFQUFBLFNBQ0wsWUFBSTZILEVBQUdULFVBQWNTLEVBQUFDLFVBQUEsVUFBQUQsRUFBQUMsVUFBQSxhQU1qQlQsS0FtRFJDLEtBQU0sV0FoREUsR0FBQU8sR0FBQTdILEVBQUEsUUFDQWtHLEVBQUtXLEVBQUFBLGFBQUwsWUFtREFrQixFQUFRLEdBQUlDLE1BaERaQyxHQUFBRixFQUFBRyxjQUFBSCxFQUFBSSxXQUFBLEdBQUEsSUFBQUosRUFBQUssV0FBQUMsT0FBQSxJQUNBQyxHQUFJNUMsRUFBUzFGLE1BQU9nRixFQUFBQSxHQUFBQSxFQUFTQyxNQUFoQixFQUFiLEdBQUFzRCxFQUFBRixNQUFBLEVBQUEsSUFHSEosR0FqQkRBLEVBaUJPTyxLQUFBLElBaURQRixFQUFRQSxFQUFNRSxLQUFLLEdBOUNmLElBQUFDLElBQUl4QixFQUFTbEYsR0FBYjJHLFdBQUFMLE1BQUEsRUFBQSxFQWlESlIsR0FBR2hCLFVBQVk0QixFQUFNLE1BM0NqQnZDLFNBRUFBLFFBQUFBLFdBaURKLEdBQWtDLEtBQTlCaEcsU0FBU3lJLFNBQVNDLFNBL0NsQixPQUFBLEdBSVBsQixPQTlFUSxTQUFBbEgsR0ErSEwsR0FBSU4sU0FBU3lJLFNBQVNDLFVBQVlwSSxFQS9DaEMsT0FBQSxHQXNEVnFJLFFBQU9DLGlCQUFpQixtQkFBb0IsV0EvQ3hDL0IsT0FBQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciDDqSA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn07XG5cbnZhciDDpyA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHNlbGVjdG9yKTtcbn07XG5cbnZhciBQYXJzZXIgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICBmdW5jdGlvbiAkaHR0cCh1cmwpe1xuICAgICAgICB2YXIgY29yZSA9IHtcbiAgICAgICAgICAgIGFqYXg6IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWVudCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJpID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQub3BlbihtZXRob2QsIHVyaSk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5zZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnZ2V0JzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuYWpheCgnR0VUJywgdXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuXG4gICAgICAgIGZldGNoQ29udGVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgcGFydGlhbHMgPSBuZXcgTWFwKFtcbiAgICAgICAgICAgICAgICBbJ2hlYWRlcicsICdiaW4vcGFydGlhbHMvaGVhZGVyLmh0bWwnXSxcbiAgICAgICAgICAgICAgICBbJy5jb250YWN0JywgJ2Jpbi9wYXJ0aWFscy9jb250YWN0Lmh0bWwnXSxcbiAgICAgICAgICAgICAgICBbJ2FzaWRlJywgJ2Jpbi9wYXJ0aWFscy9hc2lkZS5odG1sJ11cbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgbGV0IGZpbGVzID0gW1xuICAgICAgICAgICAgICAgICdleHBlcmllbmNlJ1xuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0aWFscykge1xuICAgICAgICAgICAgICAgIGZldGNoRmlsZShwYXJ0WzFdLCBwYXJ0WzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgICAgICAgICAgIGZldGNoRmlsZShmaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGZldGNoRmlsZShmLCBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBlID8gZiA6ICdiaW4vanMvanNvbi8nK2YrJy5qc29uJztcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBlID8gZGF0YSA6IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlbmRlci5nZXRQYXJ0KGRhdGEsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIFJlbmRlci5idWlsZExpc3QoZGF0YSwgZik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRodHRwKGZpbGUpLmdldCgpXG4gICAgICAgICAgICAgICAgLnRoZW4oY2FsbGJhY2suc3VjY2VzcylcbiAgICAgICAgICAgICAgICAuY2F0Y2goY2FsbGJhY2suZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmZXRjaEdpZ3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEZPUiBUSEUgL2dpZ3MvIFBBR0UgT05MWVxuICAgICAgICAgICAgbGV0IGdpZ3MgPSAnLy9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzFUZjJ2Unk2bWU5RjNrblFTQTVGcGZ2clRMdU5ldGxrZDBNbWIyUDIwSnFvLzEvcHVibGljL3ZhbHVlcz9hbHQ9anNvbic7XG5cbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZWxscyA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IGNlbGxzLmZlZWQuZW50cnk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHQgaW4gdGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ID4gMCkgY29uc29sZS5sb2codGl0bGVbdF0uZ3N4JGhlYWRsaW5lLiR0LCB0aXRsZVt0XS5nc3gkdGV4dC4kdCwgdGl0bGVbdF0uZ3N4JHN0YXJ0ZGF0ZS4kdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJGh0dHAoZ2lncykuZ2V0KClcbiAgICAgICAgICAgIC50aGVuKGNhbGxiYWNrLnN1Y2Nlc3MpXG4gICAgICAgICAgICAuY2F0Y2goY2FsbGJhY2suZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG59KSgpO1xuXG52YXIgUmVuZGVyID0ge1xuXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgICAgY3JlYXRlRWw6ICdkaXYnLFxuICAgICAgICBwYXJlbnRFbDogJ21haW4nXG4gICAgfSxcblxuICAgIGJ1aWxkTGlzdDogZnVuY3Rpb24oZGF0YSwgZikge1xuICAgICAgICBkYXRhID0gZGF0YS5pdGVtcztcbiAgICAgICAgdmFyIHBhcmVudCA9IMOpKCcuJysgZik7XG4gICAgICAgIHZhciB1bCA9IMOnKCd1bCcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkKGVsZW1lbnQsIGNvbnRlbnQsIGF0dHIpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSDDpyhlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY29udGVudCkpO1xuICAgICAgICAgICAgYXR0ciAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsICcvLycgKyBjb250ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBsaSA9IMOnKCdsaScpO1xuXG4gICAgICAgICAgICB2YXIgdGVtcCA9IFtcbiAgICAgICAgICAgICAgICBidWlsZCgnaDInLCBuLnRpdGxlKSxcbiAgICAgICAgICAgICAgICBidWlsZCgnaDMnLCBuLnBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgICBidWlsZCgndGltZScsIG4uZGF0ZUZyb20pLFxuICAgICAgICAgICAgICAgIGJ1aWxkKCdzcGFuJywgJ+KAlCcpLFxuICAgICAgICAgICAgICAgIGJ1aWxkKCd0aW1lJywgbi5kYXRlVG8pLFxuICAgICAgICAgICAgICAgIG4udXJsICYmIGJ1aWxkKCdhJywgbi51cmwsIDEpXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICB2YXIgZG9jRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGVtcFtpXSAmJiBkb2NGcmFnLmFwcGVuZENoaWxkKHRlbXBbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChkb2NGcmFnKTtcbiAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh1bCk7XG4gICAgfSxcblxuICAgIGdldFBhcnQ6IGZ1bmN0aW9uKGRhdGEsIGUpIHtcbiAgICAgICAgaWYgKH5lLmluZGV4T2YoJy4nKSkge1xuXG4gICAgICAgICAgICAvLyBlIHJlZmVycyB0byBhIGNsYXNzbmFtZVxuICAgICAgICAgICAgZSA9IGUuc3Vic3RyKDEpO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGluZyBhIGRpdiB3aXRoIGNsYXNzbmFtZSBlXG4gICAgICAgICAgICB2YXIgdGVtcCA9IMOnKHRoaXMuc2V0dGluZ3MuY3JlYXRlRWwpO1xuICAgICAgICAgICAgdGVtcC5jbGFzc0xpc3QuYWRkKGUpO1xuXG4gICAgICAgICAgICAvLyBhZGQgZGF0YSBhbmQgYXR0YWNoIGNsaWNrIGhhbmRsZXJcbiAgICAgICAgICAgIHRlbXAuaW5uZXJIVE1MID0gZGF0YTtcbiAgICAgICAgICAgIHRlbXAub25jbGljayA9IEludGVyYWN0LnRvZ2dsZUNsaWNrZWQ7XG5cbiAgICAgICAgICAgIC8vIGFwcGVuZCB0byBwYXJlbnQgPG1haW4+XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gw6kodGhpcy5zZXR0aW5ncy5wYXJlbnRFbCk7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGVtcCk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgLy8gZSByZWZlcnMgdG8gYW4gZXhpc3RpbmcgZWxlbWVudFxuICAgICAgICAgICAgdmFyIGVsZW0gPSDDqShlKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSAobmV3KSBlbGVtZW50XG4gICAgICAgICAgICB0ZW1wID0gw6coZSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBkYXRhXG4gICAgICAgICAgICB0ZW1wLmlubmVySFRNTCA9IGRhdGE7XG5cbiAgICAgICAgICAgIHRlbXAub25jbGljayA9IEludGVyYWN0LnRvZ2dsZUNsaWNrZWQ7XG5cbiAgICAgICAgICAgIC8vIHJlcGxhY2UgZXhpc3RpbmcgZWxlbWVudCB3aXRoIG5ld1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZXBsYWNlQ2hpbGQodGVtcCwgZWxlbSk7XG4gICAgICAgICAgICBpZih+ZS5pbmRleE9mKCdhc2lkZScpKSBBZ2UuY2FsYygpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoUmVxdWVzdC5pc0luZGV4KCkpIFBhcnNlci5mZXRjaENvbnRlbnQoKTtcbiAgICAgICAgaWYgKFJlcXVlc3QuaXNQYWdlKCcvZ2lncy8nKSkgUGFyc2VyLmZldGNoR2lncygpO1xuICAgIH1cblxufTtcblxudmFyIEludGVyYWN0ID0ge1xuXG4gICAgdG9nZ2xlQ2xpY2tlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjbGlja2VkID0gdGhpcy5ub2RlTmFtZTtcbiAgICAgICAgaWYoY2xpY2tlZCA9PSAnSEVBREVSJ3x8dGhpcy5jbGFzc0xpc3QgPT0gJ2NvbnRhY3QnKXtcbiAgICAgICAgICAgIHZhciBlbCA9IMOpKCdoZWFkZXInKTtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9PSAnY2xpY2tlZCcgPyBlbC5jbGFzc05hbWUgPSAncmV2ZXJzZScgOiBlbC5jbGFzc05hbWUgPSAnY2xpY2tlZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cbnZhciBBZ2UgPSB7XG5cbiAgICBjYWxjOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gw6koJ3RpbWUnKTtcbiAgICAgICAgdmFyIHRpbWUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGV0aW1lJyk7XG5cbiAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIG5vdyA9IFt0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpKzEsICgnMCcgKyB0b2RheS5nZXREYXRlKCkpLnNsaWNlKC0yKV07XG4gICAgICAgIHZhciBiaXJ0aCA9IFt0aW1lLnNsaWNlKDAsNCksIHRpbWUuc2xpY2UoNSw3KSwgdGltZS5zbGljZSg4LDEwKV07XG5cbiAgICAgICAgbm93ID0gbm93LmpvaW4oJycpO1xuICAgICAgICBiaXJ0aCA9IGJpcnRoLmpvaW4oJycpO1xuXG4gICAgICAgIHZhciBhZ2UgPSAobm93IC0gYmlydGgpLnRvU3RyaW5nKCkuc2xpY2UoMCwyKTtcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gYWdlICsgJywnO1xuICAgIH1cblxufTtcblxudmFyIFJlcXVlc3QgPSB7XG5cbiAgICBpc0luZGV4OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lID09ICcvJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaXNQYWdlOiBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lID09IHVybCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgUmVuZGVyLmluaXQoKTtcbn0pO1xuIl19
